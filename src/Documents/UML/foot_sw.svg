<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="STATE" height="717px" preserveAspectRatio="none" style="width:719px;height:717px;background:#FFFFFF;" version="1.1" viewBox="0 0 719 717" width="719px" zoomAndPan="magnify"><defs/><g><path d="M263.5,87 L689.5,87 A12.5,12.5 0 0 1 702,99.5 L702,113.2969 L251,113.2969 L251,99.5 A12.5,12.5 0 0 1 263.5,87" fill="#F1F1F1"/><rect fill="none" height="98.5625" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="451" x="251" y="87"/><line style="stroke:#181818;stroke-width:0.5;" x1="251" x2="702" y1="113.2969" y2="113.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.5879" x="448.2061" y="104.9951">GetSW0</text><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="96.2617" x="300" y="125.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="300" x2="396.2617" y1="151.5938" y2="151.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2617" x="310" y="143.292">GetADVal0</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59.3262" x="305" y="167.7324">Read AN0</text></g><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98.2109" x="414" y="125.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="414" x2="512.2109" y1="151.5938" y2="151.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.0254" x="427.5928" y="143.292">JudgeSW0</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.2109" x="419" y="167.7324">AD val to SW</text></g><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="123.5918" x="530" y="125.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="530" x2="653.5918" y1="151.5938" y2="151.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.5918" x="540" y="143.292">UpdateCurrSW</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80.7188" x="535" y="167.7324">currSW = SW</text></g><ellipse cx="272" cy="150.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><ellipse cx="683" cy="150.2969" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="683" cy="150.2969" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><!--link *start*GetSW0 to GetADVal0--><g class="link" data-entity-1="ent0002" data-entity-2="ent0003" data-link-type="dependency" data-source-line="10" id="lnk3"><path d="M282.09,150.2969 C288.02,150.2969 287.94,150.2969 293.86,150.2969" fill="none" id="*start*GetSW0-to-GetADVal0" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="299.86,150.2969,290.86,146.2969,294.86,150.2969,290.86,154.2969,299.86,150.2969" style="stroke:#181818;stroke-width:1;"/></g><!--link GetADVal0 to JudgeSW0--><g class="link" data-entity-1="ent0003" data-entity-2="ent0004" data-link-type="dependency" data-source-line="11" id="lnk4"><path d="M396.07,150.2969 C401.99,150.2969 401.92,150.2969 407.85,150.2969" fill="none" id="GetADVal0-to-JudgeSW0" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="413.85,150.2969,404.85,146.2969,408.85,150.2969,404.85,154.2969,413.85,150.2969" style="stroke:#181818;stroke-width:1;"/></g><!--link JudgeSW0 to UpdateCurrSW--><g class="link" data-entity-1="ent0004" data-entity-2="ent0005" data-link-type="dependency" data-source-line="12" id="lnk5"><path d="M512.13,150.2969 C518.06,150.2969 517.99,150.2969 523.91,150.2969" fill="none" id="JudgeSW0-to-UpdateCurrSW" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="529.91,150.2969,520.91,146.2969,524.91,150.2969,520.91,154.2969,529.91,150.2969" style="stroke:#181818;stroke-width:1;"/></g><!--link UpdateCurrSW to *end*GetSW0--><g class="link" data-entity-1="ent0005" data-entity-2="ent0006" data-link-type="dependency" data-source-line="13" id="lnk7"><path d="M654.21,150.2969 C660.06,150.2969 659.9,150.2969 665.75,150.2969" fill="none" id="UpdateCurrSW-to-*end*GetSW0" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="671.75,150.2969,662.75,146.2969,666.75,150.2969,662.75,154.2969,671.75,150.2969" style="stroke:#181818;stroke-width:1;"/></g><path d="M98.5,374 L382.5,374 A12.5,12.5 0 0 1 395,386.5 L395,400.2969 L86,400.2969 L86,386.5 A12.5,12.5 0 0 1 98.5,374" fill="#F1F1F1"/><rect fill="none" height="98.5625" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="309" x="86" y="374"/><line style="stroke:#181818;stroke-width:0.5;" x1="86" x2="395" y1="400.2969" y2="400.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.5879" x="212.2061" y="391.9951">GetSW1</text><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="96.2617" x="135" y="412.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="135" x2="231.2617" y1="438.5938" y2="438.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2617" x="145" y="430.292">GetADVal1</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59.3262" x="140" y="454.7324">Read AN0</text></g><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98.2109" x="249" y="412.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="249" x2="347.2109" y1="438.5938" y2="438.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.0254" x="262.5928" y="430.292">JudgeSW1</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.2109" x="254" y="454.7324">AD val to SW</text></g><ellipse cx="107" cy="437.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><ellipse cx="376" cy="437.2969" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="376" cy="437.2969" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><!--link *start*GetSW1 to GetADVal1--><g class="link" data-entity-1="ent0008" data-entity-2="ent0007" data-link-type="dependency" data-source-line="20" id="lnk9"><path d="M117.09,437.2969 C123.02,437.2969 122.94,437.2969 128.86,437.2969" fill="none" id="*start*GetSW1-to-GetADVal1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="134.86,437.2969,125.86,433.2969,129.86,437.2969,125.86,441.2969,134.86,437.2969" style="stroke:#181818;stroke-width:1;"/></g><!--link GetADVal1 to JudgeSW1--><g class="link" data-entity-1="ent0007" data-entity-2="ent0008" data-link-type="dependency" data-source-line="21" id="lnk10"><path d="M231.07,437.2969 C236.99,437.2969 236.92,437.2969 242.85,437.2969" fill="none" id="GetADVal1-to-JudgeSW1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="248.85,437.2969,239.85,433.2969,243.85,437.2969,239.85,441.2969,248.85,437.2969" style="stroke:#181818;stroke-width:1;"/></g><!--link JudgeSW1 to *end*GetSW1--><g class="link" data-entity-1="ent0008" data-entity-2="ent0011" data-link-type="dependency" data-source-line="22" id="lnk12"><path d="M347.05,437.2969 C352.93,437.2969 352.81,437.2969 358.69,437.2969" fill="none" id="JudgeSW1-to-*end*GetSW1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="364.69,437.2969,355.69,433.2969,359.69,437.2969,355.69,441.2969,364.69,437.2969" style="stroke:#181818;stroke-width:1;"/></g><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="99.4648" x="262" y="263"/><line style="stroke:#181818;stroke-width:0.5;" x1="262" x2="361.4648" y1="289.2969" y2="289.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.6396" x="280.9126" y="280.9951">Wait2ms</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79.4648" x="267" y="305.4355">for debounce</text></g><g><rect fill="#F1F1F1" height="78.2031" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="217.0527" x="7" y="550"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="224.0527" y1="576.2969" y2="576.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.0527" x="17" y="567.9951">Issue_SW_CHANGED_EVENT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.293" x="12" y="592.4355">lastSW = SW</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94.0898" x="12" y="606.4043">changed = true</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118.5" x="12" y="620.373">lastTick = TickGet()</text></g><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="282.8047" x="430" y="398.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="430" x2="712.8047" y1="424.7969" y2="424.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6279" x="516.5884" y="416.4951">CheckHoldTime</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="262.8047" x="435" y="440.9355">changed &amp;&amp; (2 sec. &lt; (TickGet() - lastTick))</text></g><g><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="186.3525" x="423.5" y="564"/><line style="stroke:#181818;stroke-width:0.5;" x1="423.5" x2="609.8525" y1="590.2969" y2="590.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.3525" x="433.5" y="581.9951">Issue_SW_HOLD_EVENT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98.0098" x="428.5" y="606.4355">changed = false</text></g><ellipse cx="476.5" cy="16" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><ellipse cx="405.5" cy="700" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="405.5" cy="700" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><!--link *start* to GetSW0--><g class="link" data-entity-1="ent0013" data-entity-2="ent0002" data-link-type="dependency" data-source-line="26" id="lnk14"><path d="M476.5,26.3 C476.5,39.39 476.5,58.21 476.5,80.87" fill="none" id="*start*-to-GetSW0" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="476.5,86.87,480.5,77.87,476.5,81.87,472.5,77.87,476.5,86.87" style="stroke:#181818;stroke-width:1;"/></g><!--link GetSW0 to CheckHoldTime--><g class="link" data-entity-1="ent0002" data-entity-2="ent0011" data-link-type="dependency" data-source-line="27" id="lnk15"><path d="M502.56,186.25 C507.22,195.96 511.77,206.18 515.5,216 C539.9,280.24 557.0282,353.612 565.3482,392.612" fill="none" id="GetSW0-to-CheckHoldTime" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="566.6,398.48,568.6342,388.8435,565.5568,393.59,560.8103,390.5126,566.6,398.48" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.7861" x="547.5" y="292.5669">lastSW == currSW</text></g><!--link GetSW0 to Wait2ms--><g class="link" data-entity-1="ent0002" data-entity-2="ent0009" data-link-type="dependency" data-source-line="28" id="lnk16"><path d="M422.93,186.04 C394.51,211.79 365.2969,238.2619 342.4669,258.9419" fill="none" id="GetSW0-to-Wait2ms" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="338.02,262.97,347.3757,259.8925,341.7257,259.6133,342.0049,253.9633,338.02,262.97" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.105" x="390.5" y="229.0669">lastSW != currSW</text></g><!--link Wait2ms to GetSW1--><g class="link" data-entity-1="ent0009" data-entity-2="ent0006" data-link-type="dependency" data-source-line="31" id="lnk17"><path d="M298.64,313.18 C289.65,330.08 280.1469,347.9423 269.1669,368.5923" fill="none" id="Wait2ms-to-GetSW1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="266.35,373.89,274.1071,367.8214,268.6974,369.4753,267.0435,364.0656,266.35,373.89" style="stroke:#181818;stroke-width:1;"/></g><!--link GetSW1 to Issue_SW_CHANGED_EVENT--><g class="link" data-entity-1="ent0006" data-entity-2="ent0010" data-link-type="dependency" data-source-line="38" id="lnk18"><path d="M193.35,473.13 C184.76,482.76 176.11,492.99 168.5,503 C157.35,517.68 149.4421,529.6341 140.3821,544.6341" fill="none" id="GetSW1-to-Issue_SW_CHANGED_EVENT" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="137.28,549.77,145.357,544.1342,139.8651,545.4901,138.5092,539.9981,137.28,549.77" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.3379" x="169.5" y="516.0669">currSW == SW</text></g><!--link GetSW1 to *end*--><g class="link" data-entity-1="ent0006" data-entity-2="ent0019" data-link-type="dependency" data-source-line="39" id="lnk20"><path d="M261.12,473.25 C265.05,483.04 269.02,493.3 272.5,503 C292.17,557.77 278.01,580.4 311.5,628 C334.45,660.62 371.6316,682.0207 390.5916,691.6607" fill="none" id="GetSW1-to-*end*" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="395.94,694.38,389.7303,686.7354,391.483,692.1139,386.1045,693.8666,395.94,694.38" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.6567" x="312.5" y="593.5669">currSW != SW</text></g><!--link Issue_SW_CHANGED_EVENT to *end*--><g class="link" data-entity-1="ent0010" data-entity-2="ent0019" data-link-type="dependency" data-source-line="40" id="lnk21"><path d="M194.43,628.13 C217.98,638.81 244.04,649.96 268.5,659 C314.75,676.09 366.054,689.3455 389.204,695.0455" fill="none" id="Issue_SW_CHANGED_EVENT-to-*end*" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="395.03,696.48,387.2473,690.4443,390.175,695.2846,385.3347,698.2123,395.03,696.48" style="stroke:#181818;stroke-width:1;"/></g><!--link CheckHoldTime to *end*--><g class="link" data-entity-1="ent0011" data-entity-2="ent0019" data-link-type="dependency" data-source-line="44" id="lnk22"><path d="M589.89,448.5 C618.63,489.16 666.93,572.55 626.5,628 C575.34,698.17 459.7077,700.6844 422.4977,699.6644" fill="none" id="CheckHoldTime-to-*end*" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="416.5,699.5,425.387,703.7451,421.4981,699.637,425.6062,695.7481,416.5,699.5" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17.6782" x="642.5" y="593.5669">No</text></g><!--link CheckHoldTime to Issue_SW_HOLD_EVENT--><g class="link" data-entity-1="ent0011" data-entity-2="ent0012" data-link-type="dependency" data-source-line="46" id="lnk23"><path d="M563.38,448.62 C552.99,479.54 536.9722,527.1329 526.5622,558.0929" fill="none" id="CheckHoldTime-to-Issue_SW_HOLD_EVENT" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="524.65,563.78,531.3098,556.5241,526.2435,559.0407,523.7269,553.9745,524.65,563.78" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.7119" x="545.5" y="516.0669">Yes</text></g><!--link Issue_SW_HOLD_EVENT to *end*--><g class="link" data-entity-1="ent0012" data-entity-2="ent0019" data-link-type="dependency" data-source-line="47" id="lnk24"><path d="M491.87,614.19 C466.57,639.03 433.0203,671.9754 417.1803,687.5354" fill="none" id="Issue_SW_HOLD_EVENT-to-*end*" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="412.9,691.74,422.1235,688.2866,416.4669,688.2361,416.5174,682.5795,412.9,691.74" style="stroke:#181818;stroke-width:1;"/></g><?plantuml-src XL9HQy8m47xE_OhpHNJWC3xA71GLtHWThCuonf2kFRLOhJJfO8pzzoLTcyRPRK-vt7ttvVlkieqZGjeVvJj69C8iFieuFG20a84ad97q_3v-03DtPx8CaZvZGtoW84B7xLV5sppQa8BhcZF1jo11cQBdL_N7OwIESPvbdgyWOH7WI2E0FL-yOE-wVW2O2NM-uWPMHJfhCmApRxggAE7pn0a_TyB_SCBFd9pfvBLERkdaHYUtb43H_DsjlPJJrPdnbiBTF4sYHRmdzMeI2Ac7Coh7P6Fz89Q3lM2inhKChhHROd38rcccLlkQveUGe4eR4Rngk14YfvNdhyPpnvrD9wlfSkekW3NdBON5Wdz5XTlWiA58mMIMqpzqYpZSAQG-bBXE5w3ScfRRt8drFogKM0rwsARQAgg_S9Hey-jFby4i6-qsTWOeABp4A-mOeTWp-hjTE6clo3MBc_uSzlp-hcbMwo0HX0r4pOrF9A2XOdnz0G00?></g></svg>